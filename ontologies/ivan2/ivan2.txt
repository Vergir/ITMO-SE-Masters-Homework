OLD:
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX yago: <http://dbpedia.org/class/yago/>
PREFIX dbo: <http://dbpedia.org/ontology/>
PREFIX dbr: <http://dbpedia.org/resource/>

1)     Найти население;
//////////
select
*
where {dbr:United_States dbo:populationTotal ?x .}

2)     Количество городов/районов/областей (dbo:PopulatedPlace);
////////////
select
count(*)
where { ?city rdf:type dbo:PopulatedPlace .}

3)     Общую площадь (посчитать по сумме площадей найденных городов/регионов/областей).
//////////
SELECT sum(?area) WHERE {
?city dbo:country dbr:United_States , rdf:type dbo:PopulatedPlace , dbo:areaTotal ?area .
}





- Выведите первые 10 типов преступлений (ds:primary_type). Типы не должны повторяться; 
//////////
SELECT DISTINCT ?type {
?crime ds:primary_type ?type.
}
LIMIT 10
//////////
type
OFFENSE INVOLVING CHILDREN
CRIM SEXUAL ASSAULT
HOMICIDE
ROBBERY
BATTERY
NARCOTICS
LIQUOR LAW VIOLATION
PUBLIC PEACE VIOLATION
PROSTITUTION
CRIMINAL DAMAGE


- Количество преступлений;
//////////
SELECT COUNT(?id) {
?object a ?id
}
//////////
.1
500

- Найдите все преступления совершенные в магазине (например CONVENIENCE STORE) и на улице (STREET) (ds:location_description);
//////////
SELECT ?crime {
  ?crime ds:location_description ?loc.
  FILTER (?loc = 'STREET' || CONTAINS(?loc,'STORE')).
}
//////////
crime
https://data.cityofchicago.org/resource/crimes/10024304
https://data.cityofchicago.org/resource/crimes/10024202
https://data.cityofchicago.org/resource/crimes/10024490
https://data.cityofchicago.org/resource/crimes/10024600
https://data.cityofchicago.org/resource/crimes/10024793
https://data.cityofchicago.org/resource/crimes/10024037
https://data.cityofchicago.org/resource/crimes/10024451
https://data.cityofchicago.org/resource/crimes/10024212
https://data.cityofchicago.org/resource/crimes/10024636
https://data.cityofchicago.org/resource/crimes/10024812
https://data.cityofchicago.org/resource/crimes/10024817
https://data.cityofchicago.org/resource/crimes/10023943
https://data.cityofchicago.org/resource/crimes/10024342
https://data.cityofchicago.org/resource/crimes/10024784
https://data.cityofchicago.org/resource/crimes/10024056
https://data.cityofchicago.org/resource/crimes/10024240
https://data.cityofchicago.org/resource/crimes/10024176
https://data.cityofchicago.org/resource/crimes/10024279
https://data.cityofchicago.org/resource/crimes/10024401
https://data.cityofchicago.org/resource/crimes/10024362
https://data.cityofchicago.org/resource/crimes/10024297
https://data.cityofchicago.org/resource/crimes/10024809
https://data.cityofchicago.org/resource/crimes/10024712
https://data.cityofchicago.org/resource/crimes/10024396
https://data.cityofchicago.org/resource/crimes/10024022
https://data.cityofchicago.org/resource/crimes/10024777
https://data.cityofchicago.org/resource/crimes/10023978
https://data.cityofchicago.org/resource/crimes/10024209
https://data.cityofchicago.org/resource/crimes/10024060
https://data.cityofchicago.org/resource/crimes/10024736
https://data.cityofchicago.org/resource/crimes/10023987
https://data.cityofchicago.org/resource/crimes/10024308
https://data.cityofchicago.org/resource/crimes/10024179
https://data.cityofchicago.org/resource/crimes/10024105
https://data.cityofchicago.org/resource/crimes/10024405
https://data.cityofchicago.org/resource/crimes/10024665
https://data.cityofchicago.org/resource/crimes/4775608
https://data.cityofchicago.org/resource/crimes/10024674
https://data.cityofchicago.org/resource/crimes/10023995
https://data.cityofchicago.org/resource/crimes/10024211
https://data.cityofchicago.org/resource/crimes/10023924
https://data.cityofchicago.org/resource/crimes/10024163
https://data.cityofchicago.org/resource/crimes/10023937
https://data.cityofchicago.org/resource/crimes/10024785
https://data.cityofchicago.org/resource/crimes/10024349
https://data.cityofchicago.org/resource/crimes/10024075
https://data.cityofchicago.org/resource/crimes/10024330
https://data.cityofchicago.org/resource/crimes/10024007
https://data.cityofchicago.org/resource/crimes/10024731
https://data.cityofchicago.org/resource/crimes/10023942
https://data.cityofchicago.org/resource/crimes/10024271
https://data.cityofchicago.org/resource/crimes/10024214
https://data.cityofchicago.org/resource/crimes/10024032
https://data.cityofchicago.org/resource/crimes/10024399
https://data.cityofchicago.org/resource/crimes/10024402
https://data.cityofchicago.org/resource/crimes/4775
https://data.cityofchicago.org/resource/crimes/10024717
https://data.cityofchicago.org/resource/crimes/10024314
https://data.cityofchicago.org/resource/crimes/10024589
https://data.cityofchicago.org/resource/crimes/10024478
https://data.cityofchicago.org/resource/crimes/10024233
https://data.cityofchicago.org/resource/crimes/10024482
https://data.cityofchicago.org/resource/crimes/10024080
https://data.cityofchicago.org/resource/crimes/10024794
https://data.cityofchicago.org/resource/crimes/10024015
https://data.cityofchicago.org/resource/crimes/10024130
https://data.cityofchicago.org/resource/crimes/10024267
https://data.cityofchicago.org/resource/crimes/10024719
https://data.cityofchicago.org/resource/crimes/10024294
https://data.cityofchicago.org/resource/crimes/10024494
https://data.cityofchicago.org/resource/crimes/10024261
https://data.cityofchicago.org/resource/crimes/4775603
https://data.cityofchicago.org/resource/crimes/10024398
https://data.cityofchicago.org/resource/crimes/10024555
https://data.cityofchicago.org/resource/crimes/10024235
https://data.cityofchicago.org/resource/crimes/10024230
https://data.cityofchicago.org/resource/crimes/10023938
https://data.cityofchicago.org/resource/crimes/10024511
https://data.cityofchicago.org/resource/crimes/10024373
https://data.cityofchicago.org/resource/crimes/10024639
https://data.cityofchicago.org/resource/crimes/10024131
https://data.cityofchicago.org/resource/crimes/10023933
https://data.cityofchicago.org/resource/crimes/10024140
https://data.cityofchicago.org/resource/crimes/10023972
https://data.cityofchicago.org/resource/crimes/10024316
https://data.cityofchicago.org/resource/crimes/10023976
https://data.cityofchicago.org/resource/crimes/10023985
https://data.cityofchicago.org/resource/crimes/10024376
https://data.cityofchicago.org/resource/crimes/10024299
https://data.cityofchicago.org/resource/crimes/10024190
https://data.cityofchicago.org/resource/crimes/10024258
https://data.cityofchicago.org/resource/crimes/10024473
https://data.cityofchicago.org/resource/crimes/10024331
https://data.cityofchicago.org/resource/crimes/10024107
https://data.cityofchicago.org/resource/crimes/10024029
https://data.cityofchicago.org/resource/crimes/10024147
https://data.cityofchicago.org/resource/crimes/10024084
https://data.cityofchicago.org/resource/crimes/10024110
https://data.cityofchicago.org/resource/crimes/10024792
https://data.cityofchicago.org/resource/crimes/10024788
https://data.cityofchicago.org/resource/crimes/10024353
https://data.cityofchicago.org/resource/crimes/10024180
https://data.cityofchicago.org/resource/crimes/10024203
https://data.cityofchicago.org/resource/crimes/10024171
https://data.cityofchicago.org/resource/crimes/10023963
https://data.cityofchicago.org/resource/crimes/10024207
https://data.cityofchicago.org/resource/crimes/10024496
https://data.cityofchicago.org/resource/crimes/10024138
https://data.cityofchicago.org/resource/crimes/10024723
https://data.cityofchicago.org/resource/crimes/10024164
https://data.cityofchicago.org/resource/crimes/10024397
https://data.cityofchicago.org/resource/crimes/10024383
https://data.cityofchicago.org/resource/crimes/10023945
https://data.cityofchicago.org/resource/crimes/10024684
https://data.cityofchicago.org/resource/crimes/10024162
https://data.cityofchicago.org/resource/crimes/10024229
https://data.cityofchicago.org/resource/crimes/10024728
https://data.cityofchicago.org/resource/crimes/10024489
https://data.cityofchicago.org/resource/crimes/10024139
https://data.cityofchicago.org/resource/crimes/10024345
https://data.cityofchicago.org/resource/crimes/10024276

- Найдите сколько в каждом районе было совершено наркотических преступлений и отсортируйте их по порядку (ds:district);
//////////
SELECT (SAMPLE(?district) AS ?DISTRICT) (COUNT(?crime) AS ?CRIMES_COUNT) {
  ?crime ds:primary_type 'NARCOTICS';
         ds:district ?district.
}
GROUP BY ?district
ORDER BY DESC(?CRIMES_COUNT)
//////////
DISTRICT,CRIMES_COUNT
011,11
015,7
006,5
007,5
016,4
008,3
010,3
003,2
018,2
002,1
004,1
009,1
020,1
022,1
025,1


- Замените все преступления с  кодом  26 на код 27 (fbi_code). Используйте endpoint update (http://localhost:3030/ds/update);
//////////
WITH <http://localhost:3000/ds/update> 
DELETE { ?person ds:fbi_code '26' }
INSERT { ?person foaf:fbi_code '27' }
WHERE { 
  ?person ds:fbi_code '26'
}
//////////
<html>
<head>
</head>
<body>
<h1>Success</h1>
<p>
Update succeeded
</p>
</body>
</html>


- Проверьте существуют ли кражи (THEFT) по которым был произведен арест (ds:arrest).
//////////
SELECT ?crime {
  ?crime ds:primary_type 'THEFT'.
  ?crime ds:arrest 'true'
}
//////////
crime
https://data.cityofchicago.org/resource/crimes/10023996
https://data.cityofchicago.org/resource/crimes/10024123
https://data.cityofchicago.org/resource/crimes/10023891
https://data.cityofchicago.org/resource/crimes/10024055
https://data.cityofchicago.org/resource/crimes/10023909
https://data.cityofchicago.org/resource/crimes/10024011
https://data.cityofchicago.org/resource/crimes/10024096
https://data.cityofchicago.org/resource/crimes/10023940
https://data.cityofchicago.org/resource/crimes/10024427